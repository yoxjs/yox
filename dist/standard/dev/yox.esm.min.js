const e=!0,t=!1,n=null,i=void 0,o=-1,r="true",s="slot",c="name",a="filter",u="partial",f="component",l="directive",p="transition",d="value",h="length",m="function",g="template",v="*",y=".",b="/",x="..",k="this",$="undefined"!=typeof window?window:i,w="undefined"!=typeof document?document:i,T="undefined"!=typeof global?global:$,C="tap",S="click",E="change",O="model",A=function(){},j=Object.freeze({}),z=Object.freeze([]),I="";class P{constructor(e,t){this.type=e,this.phase=P.PHASE_CURRENT,t&&(this.originalEvent=t)}preventDefault(){const t=this;if(!t.isPrevented){const{originalEvent:n}=t;n&&n.preventDefault(),t.isPrevented=e}return t}stopPropagation(){const t=this;if(!t.isStoped){const{originalEvent:n}=t;n&&n.stopPropagation(),t.isStoped=e}return t}prevent(){return this.preventDefault()}stop(){return this.stopPropagation()}}P.PHASE_CURRENT=0,P.PHASE_UPWARD=1,P.PHASE_DOWNWARD=o;const N="#if",L="else",q="else if",R="#each",U="#partial",_=">",D="...",F=/^!\s/,W="$slot_",M="children",B=1,H=2,Y=3,K="on",G="lazy",V="model",Z="event",J="binding",X="o",Q="native",ee="value",te=".hook",ne="beforeCreate",ie="afterCreate",oe="beforeMount",re="afterMount",se="beforeUpdate",ce="afterUpdate",ae="beforeDestroy",ue="afterDestroy";function fe(e){return e!==i}function le(e){return e===i}function pe(e){return typeof e===m}function de(e){return Array.isArray(e)}function he(e){return e!==n&&"object"==typeof e}function me(e){return"string"==typeof e}function ge(e){return"number"==typeof e}function ve(e){return"boolean"==typeof e}function ye(e){return ge(e)||me(e)&&!isNaN(parseFloat(e))&&isFinite(e)}var be=Object.freeze({func:pe,array:de,object:he,string:me,number:ge,boolean:ve,numeric:ye});function xe(e,t,n){if(pe(e))return de(n)?e.apply(t,n):fe(t)?e.call(t,n):fe(n)?e(n):e()}function ke(e,n,i){const{length:o}=e;if(o)if(i)for(let i=o-1;i>=0&&n(e[i],i)!==t;i--);else for(let i=0;i<o&&n(e[i],i)!==t;i++);}function $e(e,t){e[e.length]=t}function we(e,t){e.unshift(t)}function Te(e,t,n){de(t)?ke(t,function(t){n(e,t)}):n(e,t)}function Ce(e,t){Te(e,t,$e)}function Se(e,t){Te(e,t,we)}function Ee(e,n,i){let r=o;return ke(e,function(e,o){if(i===t?e==n:e===n)return r=o,t}),r}function Oe(e){const{length:t}=e;if(t>0)return e[t-1]}function Ae(e){const{length:t}=e;if(t>0)return e.pop()}function je(n,i,o){let r=0;return ke(n,function(e,s){(o===t?e==i:e===i)&&(n.splice(s,1),r++)},e),r}function ze(e,t,n){return Ee(e,t,n)>=0}function Ie(e){return de(e)?e:xe(z.slice,e)}function Pe(e,t){return e.join(t)}function Ne(e){return!de(e)||!e.length}var Le=Object.freeze({each:ke,push:Ce,unshift:Se,indexOf:Ee,last:Oe,pop:Ae,remove:je,has:ze,toArray:Ie,toObject:function(e,t,n){let i={};return ke(e,function(e){i[t?e[t]:e]=n||e}),i},join:Pe,falsy:Ne});const qe=/-([a-z])/gi,Re=/\B([A-Z])/g,Ue=/^[a-z]/,_e={},De={},Fe={};function We(e){return _e[e]||(_e[e]=e.replace(qe,function(e,t){return Je(t)})),_e[e]}function Me(e){return et(e)?I:e.trim()}function Be(e,t,n){return ge(n)?t===n?I:e.slice(t,n):e.slice(t)}function He(e,t,n){return e.indexOf(t,fe(n)?n:0)}function Ye(e,t,n){return e.lastIndexOf(t,fe(n)?n:e.length)}function Ke(e,t){return 0===He(e,t)}function Ge(e,t){const n=e.length-t.length;return n>=0&&Ye(e,t)===n}function Ve(e,t){return e.charAt(t||0)}function Ze(e,t){return e.charCodeAt(t||0)}function Je(e){return e.toUpperCase()}function Xe(e){return e.toLowerCase()}function Qe(e,t){return He(e,t)>=0}function et(e){return!me(e)||!e.length}var tt=Object.freeze({camelize:We,hyphenate:function(e){return De[e]||(De[e]=e.replace(Re,function(e,t){return"-"+Xe(t)})),De[e]},capitalize:function(e){return Fe[e]||(Fe[e]=e.replace(Ue,Je)),Fe[e]},trim:Me,slice:Be,indexOf:He,lastIndexOf:Ye,startsWith:Ke,endsWith:Ge,charAt:Ve,codeAt:Ze,upper:Je,lower:Xe,has:Qe,falsy:et});const nt=/\./g,it=/\*/g,ot=/\*\*/g,rt={},st={};function ct(e,t){return e===t?t.length:Ke(e,t+=y)?t.length:o}function at(e,n){const i=rt.hasOwnProperty(e)?rt[e]:rt[e]=e.split(y);for(let e=0,o=i.length-1;e<=o&&n(i[e],e===o)!==t;e++);}function ut(e,t){return e&&t?e+y+t:e||t}function ft(e){return Qe(e,v)}function lt(e,t){let n=st[t];if(!n){const e=t.replace(nt,"\\.").replace(it,"(\\w+)").replace(ot,"([.\\w]+?)");n=st[t]=new RegExp(`^${e}$`)}const i=e.match(n);if(i)return i[1]}const pt={value:i};function dt(e){return Object.keys(e)}function ht(e,t){return e.length-t.length}function mt(e,t){return t.length-e.length}function gt(e,t){return dt(e).sort(t?mt:ht)}function vt(e,n){for(let i in e)if(n(e[i],i)===t)break}function yt(e){vt(e,function(t,n){delete e[n]})}function bt(e,t){return vt(t,function(t,n){e[n]=t}),e}function xt(e,t){return e&&t?bt(bt({},e),t):e||t}function kt(e,t){let n=e;return de(e)?t?(n=[],ke(e,function(e,i){n[i]=kt(e,t)})):n=e.slice():he(e)&&(n={},vt(e,function(e,i){n[i]=t?kt(e,t):e})),n}function $t(e,o){return at(o,function(o,r){if(e==n)return e=i,t;{let t=e[o],n=fe(t);t&&pe(t.get)&&(t=t.get()),r?n?(pt.value=t,e=pt):e=i:e=t}}),e}function wt(e,n,i,o){at(n,function(n,r){if(r)e[n]=i;else if(e[n])e=e[n];else{if(!o)return t;e=e[n]={}}})}function Tt(e,t){return fe(e[t])}function Ct(e){return!he(e)||de(e)||!dt(e).length}var St=Object.freeze({keys:dt,sort:gt,each:vt,clear:yt,extend:bt,merge:xt,copy:kt,get:$t,set:wt,has:Tt,falsy:Ct});function Et(e,t){return e!=n&&e.toString?e.toString():fe(t)?t:I}const Ot=1,At=2,jt=3,zt=4,It=5,Pt="undefined"!=typeof console?console:n,Nt=/yox/.test(Et(A))?At:jt,Lt=$&&/edge|msie|trident/i.test($.navigator.userAgent)?I:"%c",qt=Pt?Lt?function(e,t,n){Pt.log(Lt+e,n,t)}:function(e,t){Pt.log(e,t)}:A;function Rt(){if(T){const e=T.YOX_LOG_LEVEL;if(e>=Ot&&e<=It)return e}return Nt}function Ut(e){return`background-color:${e};border-radius:12px;color:#fff;font-size:10px;padding:3px 6px;`}function _t(e,t){Rt()<=Ot&&qt(t||"Yox debug",e,Ut("#999"))}function Dt(e,t){Rt()<=At&&qt(t||"Yox info",e,Ut("#2db7f5"))}function Ft(e,t){Rt()<=jt&&qt(t||"Yox warn",e,Ut("#f90"))}function Wt(e,t){Rt()<=zt&&qt(t||"Yox error",e,Ut("#ed4014"))}function Mt(e,t){if(Rt()<=It)throw new Error(`[${t||"Yox fatal"}]: ${e}`)}var Bt=Object.freeze({DEBUG:Ot,INFO:At,WARN:jt,ERROR:zt,FATAL:It,debug:_t,info:Dt,warn:Ft,error:Wt,fatal:Mt});class Ht{constructor(e){this.ns=e||t,this.listeners={}}fire(n,o,r){let s=this,c=me(n)?s.parse(n):n,a=s.listeners[c.type],u=e;if(a){a=kt(a);const e=o&&o[0]instanceof P?o[0]:i;ke(a,function(n){if(!Gt(c.ns,n)||!ze(a,n)||r&&!r(c,o,n))return;e&&(e.listener=n.fn);let f=xe(n.fn,n.ctx,o);return e&&(e.listener=i),n.num=n.num?n.num+1:1,n.num===n.max&&s.off(c,n.fn),e&&(f===t?e.prevent().stop():e.isStoped&&(f=t)),f===t?u=t:void 0})}return u}on(e,t){const n=this,i=n.listeners,o=pe(t)?{fn:t}:t;if(he(o)&&pe(o.fn)){const t=me(e)?n.parse(e):e;o.ns=t.ns,Ce(i[t.type]||(i[t.type]=[]),o)}else Mt('emitter.on(type, listener) invoke failed：\n\n"listener" is expected to be a Function or an EmitterOptions.\n')}off(t,i){const o=this,r=o.listeners;if(t){const s=me(t)?o.parse(t):t,c=s.type,a=s.ns,u=Kt(i),f=function(t,n){ke(t,function(e,n){u(e)&&Gt(a,e)&&t.splice(n,1)},e),t.length||delete r[n]};c?r[c]&&f(r[c],c):a&&vt(r,f),arguments.length>1&&i==n&&Ft(`emitter.off(type, listener) is invoked, but "listener" is ${i}.`)}else o.listeners={},arguments.length>0&&Ft(`emitter.off(type) is invoked, but "type" is ${t}.`)}has(n,i){let o=this.listeners,r=me(n)?this.parse(n):n,s=r.type,c=r.ns,a=e,u=Kt(i),f=function(e){return ke(e,function(e){if(u(e)&&Gt(c,e))return a=t}),a};return s?o[s]&&f(o[s]):c&&vt(o,f),!a}parse(e){const t={type:e,ns:I};if(this.ns){const n=He(e,y);n>=0&&(t.type=Be(e,0,n),t.ns=Be(e,n+1))}return t}}function Yt(){return e}function Kt(e){return pe(e)?function(t){return e===t.fn}:Yt}function Gt(t,n){const{ns:i}=n;return i&&t?i===t:e}function Vt(e){return pe(e)&&Qe(Et(e),"[native code]")}let Zt;typeof setImmediate===m&&Vt(setImmediate)&&(Zt=setImmediate);var Jt=Zt=typeof MessageChannel===m&&Vt(MessageChannel)?function(e){const t=new MessageChannel;t.port1.onmessage=e,t.port2.postMessage(1)}:setTimeout;let Xt;class Qt{static shared(){return Xt||(Xt=new Qt)}constructor(){this.tasks=[]}append(e,t){const n=this,{tasks:i}=n;Ce(i,{fn:e,ctx:t}),1===i.length&&Jt(function(){n.run()})}prepend(e,t){const n=this,{tasks:i}=n;Se(i,{fn:e,ctx:t}),1===i.length&&Jt(function(){n.run()})}clear(){this.tasks.length=0}run(){const{tasks:e}=this;e.length&&(this.tasks=[],ke(e,function(e){xe(e.fn,e.ctx)}))}}let en=0;const tn="$id",nn="$vnode",on="$loading",rn="$component",sn="$leaving";function cn(e,t,n){const{node:i,nativeAttrs:o}=t,r=n&&n.nativeAttrs;if(o||r){const t=o||j,n=r||j;vt(t,function(t,o){n[o]&&t.value===n[o].value||e.attr(i,o,t.value)}),vt(n,function(n,o){t[o]||e.removeAttr(i,o)})}}function an(e,t,n){const{node:i,nativeProps:o}=t,r=n&&n.nativeProps;if(o||r){const t=o||j,n=r||j;vt(t,function(t,o){n[o]&&t.value===n[o].value||e.prop(i,o,t.value)}),vt(n,function(n,o){t[o]||e.removeProp(i,o,n.hint)})}}function un(e,t){const{data:n,directives:i}=e,o=t&&t.directives;if(i||o){const r=n[rn]||e.node,s=t&&e.keypath!==t.keypath,c=i||j,a=o||j;vt(c,function(n,i){const{once:o,bind:c,unbind:u}=n.hooks;a[i]?(o||n.value!==a[i].value||s)&&(u&&u(r,a[i],t),c(r,n,e)):c(r,n,e)}),vt(a,function(e,n){if(!c[n]){const{unbind:n}=e.hooks;n&&n(r,e,t)}})}}function fn(e){const{directives:t}=e;if(t){const n=e.data[rn]||e.node;vt(t,function(t){const{unbind:i}=t.hooks;i&&i(n,t,e)})}}function ln(e,t){let n,{data:i,ref:o,props:r,slots:s,directives:c,context:a}=e;if(e.isComponent){if(n=i[rn],t){const e=c&&c[V];e&&(r||(r={}),r[n.$model]=e.value),r&&vt(r,function(e,t){n.checkProp(t,e)});const t=xt(r,s);t&&n.forceUpdate(t)}}else n=e.node;if(o){const e=a.$refs;e&&(e[o]=n)}}function pn(e,t){return e.tag===t.tag&&e.key===t.key}function dn(e,t,n){let i,o,r;for(;t<=n;)(o=e[t])&&(r=o.key)&&(i||(i={}),i[r]=t),t++;return i||j}function hn(e,t,n,i){i?e.before(t,n,i):e.append(t,n)}function mn(e,n){const i=(e.parent||e.context).createComponent(n,e);return e.data[rn]=i,e.data[on]=t,ln(e),un(e),i}function gn(){const e={};return e[tn]=++en,e}function vn(t,n){let{tag:o,node:r,data:s,isComponent:c,isComment:a,isText:u,isStyle:l,isOption:p,children:d,text:h,html:m,context:g}=n;if(!r||!s)if(s=gn(),n.data=s,u)n.node=t.createText(h);else if(a)n.node=t.createComment(h);else if(c){let r=i;o&&g.loadComponent(o,function(e){Tt(s,on)?s[on]&&(s[nn]&&(n=s[nn],delete s[nn]),wn(n,mn(n,e))):r=e}),n.node=t.createComment(f),r?mn(n,r):s[on]=e}else r=n.node=t.createElement(n.tag,n.isSvg),d?yn(t,r,d):h?t.text(r,h,l,p):m&&t.html(r,m,l,p),cn(t,n),an(t,n),ln(n),un(n)}function yn(e,t,n,i,o,r){let s,c=i||0,a=fe(o)?o:n.length-1;for(;c<=a;)vn(e,s=n[c]),bn(e,t,s,r),c++}function bn(e,t,n,o){const{node:r,data:s,context:c}=n,a=e.parent(r);if(o?e.before(t,r,o.node):e.append(t,r),!a){let e=i;if(n.isComponent){const t=s[rn];t&&(e=function(){wn(n,t)})}else n.isStatic||n.isText||n.isComment||(e=function(){wn(n)});e&&c.$observer.nextTask.prepend(e)}}function xn(e,t,n,i,o){let r,s=i||0,c=fe(o)?o:n.length-1;for(;s<=c;)(r=n[s])&&kn(e,t,r),s++}function kn(e,t,n){const{node:o}=n;if(n.isStatic||n.isText||n.isComment)e.remove(t,o);else{let r,s=function(){$n(e,n),e.remove(t,o)};if(n.isComponent&&!(r=n.data[rn]))return void s();!function(e,t,n){let{data:o,transition:r}=e;t&&!r&&(r=t.$vnode.transition);if(r){const{leave:t}=r;if(t)return void t(e.node,o[sn]=function(){o[sn]&&(n(),o[sn]=i)})}n()}(n,r,s)}}function $n(e,n){const{data:i,children:o,parent:r,slot:s}=n;if(s&&r&&r.$vnode){const e=r.get(s);if(e&&ze(e,n))return}if(n.isComponent){const e=i[rn];e?(fn(n),e.destroy()):i[on]=t}else fn(n),o&&ke(o,function(t){$n(e,t)})}function wn(e,t){let{data:n,transition:i}=e;if(t&&!i&&(i=t.$vnode.transition),xe(n[sn]),i){const{enter:t}=i;if(t)return void t(e.node)}}function Tn(e,t,n){if(t===n)return;const{node:o,data:r}=n;if(!pn(t,n)){const i=e.parent(o);return vn(e,t),void(i&&(bn(e,i,t,n),kn(e,i,n)))}if(t.node=o,t.data=r,n.isComponent&&r[on])return void(r[nn]=t);if(t.isStatic&&n.isStatic)return;cn(e,t,n),an(e,t,n),ln(t,n),un(t,n);const{text:s,html:c,children:a,isStyle:u,isOption:f}=t,l=n.text,p=n.html,d=n.children;me(s)?s!==l&&e.text(o,s,u,f):me(c)?c!==p&&e.html(o,c,u,f):a&&d?a!==d&&function(e,t,n,o){let r,s,c=0,a=n.length-1,u=n[c],f=n[a],l=0,p=o.length-1,d=o[l],h=o[p];for(;l<=p&&c<=a;)u?f?d?h?pn(u,d)?(Tn(e,u,d),u=n[++c],d=o[++l]):pn(f,h)?(Tn(e,f,h),f=n[--a],h=o[--p]):pn(f,d)?(Tn(e,f,d),hn(e,t,d.node,e.next(h.node)),f=n[--a],d=o[++l]):pn(u,h)?(Tn(e,u,h),hn(e,t,h.node,d.node),u=n[++c],h=o[--p]):(r||(r=dn(o,l,p)),fe(s=u.key?r[u.key]:i)?(Tn(e,u,o[s]),o[s]=i):vn(e,u),bn(e,t,u,d),u=n[++c]):h=o[--p]:d=o[++l]:f=n[--a]:u=n[++c];l>p?yn(e,t,n,c,a,n[a+1]):c>a&&xn(e,t,o,l,p)}(e,o,a,d):a?((me(l)||me(p))&&e.text(o,I,u),yn(e,o,a)):d?xn(e,o,d):(me(l)||me(p))&&e.text(o,I,u)}const Cn=1,Sn=2,En=3,On=4,An=5,jn=6,zn=7,In=8,Pn=9,Nn=10,Ln=11,qn=12,Rn=13,Un={},_n={},Dn={};function Fn(t){return{type:Sn,isStatic:e,name:t}}function Wn(e,t,n){return{type:En,ns:t,name:e,key:ut(t,e),modifier:n}}function Mn(t,n,i,o,r){return{type:On,isStatic:e,name:t,hint:n,value:i,expr:o,children:r}}function Bn(t,n,i,o){return{type:Pn,from:t,to:n,equal:i,index:o,isComplex:e}}function Hn(t){return{type:An,text:t,isStatic:e,isLeaf:e}}Un[s]=Un[g]=_n.key=_n.ref=_n[s]=e,Dn.if=jn,Dn.each=Pn,Dn.partial=Nn;const Yn=/^[$A-Z]|-/,Kn=/&[#\w\d]{2,6};/,Gn="area,base,embed,track,source,param,input,col,img,br,hr".split(","),Vn="svg,g,defs,desc,metadata,symbol,use,image,path,rect,circle,line,ellipse,polyline,polygon,text,tspan,tref,textpath,marker,pattern,clippath,mask,filter,cursor,view,animate,font,font-face,glyph,missing-glyph,foreignObject".split(","),Zn="id,class,name,value,for,accesskey,title,style,src,type,href,target,alt,placeholder,preload,poster,wrap,accept,pattern,dir,autocomplete,autocapitalize".split(","),Jn="min,minlength,max,maxlength,step,width,height,size,rows,cols,tabindex".split(","),Xn="disabled,checked,required,multiple,readonly,autofocus,autoplay,controls,loop,muted,novalidate,draggable,hidden,spellcheck".split(","),Qn={};function ei(n){let i=ze(Vn,n),o=t;return!i&&Yn.test(n)&&(o=e),function(e,n,i,o){return{type:Cn,tag:e,isSvg:n,isStyle:i,isOption:t,isComponent:o,isStatic:!o&&e!==s}}(n,i,"style"===n,o)}function ti(e,t){return ye(e)?+e:fe(t)?t:0}Qn.for="htmlFor",Qn.class="className",Qn.accesskey="accessKey",Qn.style="style.cssText",Qn.novalidate="noValidate",Qn.readonly="readOnly",Qn.tabindex="tabIndex",Qn.minlength="minLength",Qn.maxlength="maxLength";const ni=1,ii=2,oi=3,ri=4,si=5,ci=6,ai=7,ui=8,fi=9;function li(e,t,n,i){return{type:si,raw:i,left:e,operator:t,right:n}}function pi(n,i,o){let r=e,s=0;return i!==k&&i!==x||(r=t,i===x&&(s=1),i=I),o?di(i,n):mi(n,i,r,s)}function di(e,t){return{type:ni,raw:t,value:e}}function hi(n,o){let r=o.shift(),s=e,c=0;if(o.length>0){let a=e,u=[],f=I,l=[];if(ke(o,function(e){if(a)if(e.type===ni){if(e.raw===x)return c+=1,void(f=f?f+b+x:x);if(e.raw!==k){const t=Et(e.value);Ce(u,t),f&&(f+=Ge(f,x)?b:y),f+=t}}else a=t;a||Ce(l,e)}),r.type===ii){s=r.lookup,c+=r.offset;let e=r.name;e&&Se(u,e),e=Pe(u,y);let t=r.raw;f&&(t+=(t===x?b:y)+f),r=a?mi(n,e,s,c):gi(n,mi(t,e,s,c),i,l,s,c)}else r=a?gi(n,r,Pe(u,y),i,s,c):gi(n,r,i,l,s,c)}return r}function mi(e,t,n,i){return{type:ii,raw:e,name:t,lookup:n,offset:i}}function gi(e,t,n,i,o,r){return{type:oi,raw:e,lead:t,keypath:n,nodes:i,lookup:o,offset:r}}const vi={"+":e,"-":e,"~":e,"!":e,"!!":e},yi={"*":14,"/":14,"%":14,"+":13,"-":13,"<<":12,">>":12,">>>":12,"<":11,"<=":11,">":11,">=":11,"==":10,"!=":10,"===":10,"!==":10,"&":9,"^":8,"|":7,"&&":6,"||":5};function bi(e){if(!ki[e]){const t=new xi(e);ki[e]=t.scanTernary($i)}return ki[e]}class xi{constructor(e){const{length:t}=e;this.index=o,this.end=t,this.code=$i,this.content=e,this.go()}go(e){let t=this,{index:n,end:i}=t;(n+=e||1)>=0&&n<i?(t.code=Ze(t.content,n),t.index=n):(t.code=$i,t.index=n<0?o:i)}skip(t){const n=this,i=t&&t<0;if(n.code===$i){const e=n.index;if(n.go(t),!Ji(n.code))return void n.go(e-n.index)}else if(!Ji(n.code))return;for(;e;){if(!Ji(n.code)){i&&n.go();break}n.go(t)}}is(e){return this.code===e}pick(e,t){return Be(this.content,e,fe(t)?t:this.index)}scanToken(){const e=this,{code:t,index:n}=e;if(Qi(t))return e.scanTail(n,[e.scanIdentifier(n)]);if(Xi(t))return e.scanNumber(n);switch(t){case $i:return;case Ei:case Oi:return e.scanTail(n,[e.scanString(n,t)]);case wi:return e.go(),Xi(e.code)?e.scanNumber(n):e.scanPath(n);case Ai:return e.go(),e.scanTernary(ji);case zi:return e.scanTail(n,[(i=e.scanTuple(n,Ii),r=e.pick(n),{type:ai,raw:r,nodes:i})]);case Pi:return e.scanObject(n)}var i,r;const s=e.scanOperator(n);if(s&&vi[s]){const t=e.scanTernary();if(t){if(t.type===ni){const i=t.value;if(ge(i))return e.skip(o),di(-i,e.pick(n))}return e.skip(o),function(e,t,n){return{type:ri,raw:n,operator:e,node:t}}(s,t,e.pick(n))}e.fatal(n,"Expression expected.")}}scanNumber(e){const t=this;for(;Xi(n=t.code)||n===wi;)t.go();var n;const i=t.pick(e);if(ye(i))return di(+i,i);t.fatal(e,"Number expected.")}scanString(t,n){const i=this;e:for(;e;)switch(i.go(),i.code){case Si:i.go();break;case n:i.go();break e;case $i:i.fatal(t,"Unexpected end of text.");break e}const o=i.pick(t);return di(new Function(`return ${o}`)(),o)}scanObject(n){let i,o=this,r=[],s=[],c=e;o.go();e:for(;e;)switch(o.code){case Ni:o.go(),r.length!==s.length&&o.fatal(n,"The number of keys and values must be equal.");break e;case $i:o.fatal(n,"Unexpected end of text.");break e;case qi:o.go(),c=t;break;case Ti:o.go(),c=e;break;default:if(i=o.scanTernary(),c){if(i)if(o.skip(),i.type===ii)Ce(r,i.name);else{if(i.type!==ni){o.fatal(n,"The key of an object must be a literal or identifier.");break e}Ce(r,i.value)}}else{if(!i){o.fatal(n,"The value of the object was not found.");break e}o.skip(),Ce(s,i)}}return function(e,t,n){return{type:ui,raw:n,keys:e,values:t}}(r,s,o.pick(n))}scanTuple(t,n){let i,o=this,r=[];o.go();e:for(;e;)switch(o.code){case n:o.go();break e;case $i:o.fatal(t,"Unexpected end of text.");break e;case Ti:o.go();break;default:(i=o.scanTernary())&&(o.skip(),Ce(r,i))}return r}scanPath(t){let n,i=this,o=[];for(;e&&(n=k,i.is(wi)&&(i.go(),n=x),Ce(o,pi(n,n,o.length>0)),i.is(Ci));){if(i.go(),eo(i.code))return Ce(o,i.scanIdentifier(i.index,e)),i.scanTail(t,o);if(!i.is(wi)){i.fatal(t,`${Oe(o).raw}/ must be followed by an identifier.`);break}i.go()}}scanTail(t,n){let i,o=this;e:for(;e;)switch(o.code){case Ai:n=[(r=hi(o.pick(t),n),s=o.scanTuple(o.index,ji),c=o.pick(t),{type:fi,raw:c,name:r,args:s})];break;case wi:if(o.go(),eo(o.code)){Ce(n,o.scanIdentifier(o.index,e));break}o.fatal(t,"Identifier or number expected.");break e;case zi:if(o.go(),i=o.scanTernary(Ii)){Ce(n,i);break}o.fatal(t,"[] is not allowed.");break e;default:break e}var r,s,c;return hi(o.pick(t),n)}scanIdentifier(e,t){const n=this;for(;eo(n.code);)n.go();const i=n.pick(e);return!t&&i in Zi?di(Zi[i],i):pi(i,i,t)}scanOperator(e){const t=this;switch(t.code){case Di:case Fi:case Wi:case Hi:case _i:t.go();break;case Ri:t.go(),t.is(Ri)&&t.fatal(e,'The operator "++" is not supported.');break;case Ui:t.go(),t.is(Ui)&&t.fatal(e,'The operator "--" is not supported.');break;case Yi:t.go(),t.is(Yi)?t.go():t.is(Gi)&&(t.go(),t.is(Gi)&&t.go());break;case Mi:t.go(),t.is(Mi)&&t.go();break;case Bi:t.go(),t.is(Bi)&&t.go();break;case Gi:t.go(),t.is(Gi)?(t.go(),t.is(Gi)&&t.go()):t.fatal(e,"Assignment statements are not supported.");break;case Ki:t.go(),(t.is(Gi)||t.is(Ki))&&t.go();break;case Vi:t.go(),t.is(Gi)?t.go():t.is(Vi)&&(t.go(),t.is(Vi)&&t.go())}if(t.index>e)return t.pick(e)}scanBinary(t){let n,o,r,s,c,a,u=this,f=[];for(;e;){if(u.skip(),Ce(f,u.index),n=u.scanToken()){if(Ce(f,n),Ce(f,u.index),u.skip(),(r=u.scanOperator(u.index))&&(s=yi[r])){(c=f[o=f.length-4])&&(a=yi[c])&&a>=s&&f.splice(o-2,5,li(f[o-2],c,f[o+2],u.pick(f[o-3],f[o+3]))),Ce(f,r);continue}r=i}else r&&u.fatal(t,"Invalid syntax.");break}for(;e;){if(!(f.length>=7))return f[1];o=f.length-4,f.splice(o-2,5,li(f[o-2],f[o],f[o+2],u.pick(f[o-3],f[o+3])))}}scanTernary(e){const t=this;t.skip();let n,i,r=t.index,s=t.scanBinary(r);return t.is(Li)&&(t.go(),n=t.scanBinary(r),t.is(qi)&&(t.go(),i=t.scanBinary(r)),s&&n&&i?(t.skip(o),s=function(e,t,n,i){return{type:ci,raw:i,test:e,yes:t,no:n}}(s,n,i,t.pick(r))):t.fatal(r,"Invalid ternary syntax.")),fe(e)&&(t.skip(),t.is(e)?t.go():t.fatal(r,`"${String.fromCharCode(e)}" expected, "${String.fromCharCode(t.code)}" actually.`)),s}fatal(e,t){Mt(`Error compiling expression\n\n${this.content}\n\nmessage: ${t}\n`)}}const ki={},$i=0,wi=46,Ti=44,Ci=47,Si=92,Ei=39,Oi=34,Ai=40,ji=41,zi=91,Ii=93,Pi=123,Ni=125,Li=63,qi=58,Ri=43,Ui=45,_i=42,Di=47,Fi=37,Wi=126,Mi=38,Bi=124,Hi=94,Yi=33,Ki=60,Gi=61,Vi=62,Zi={};function Ji(e){return e>0&&e<33||160===e}function Xi(e){return e>47&&e<58}function Qi(e){return 36===e||95===e||e>96&&e<123||e>64&&e<91}function eo(e){return Qi(e)||Xi(e)}Zi[r]=e,Zi.false=t,Zi.null=n,Zi[void 0]=i;const to=1,no=2,io=3,oo={},ro="-",so=/^[_$a-z]([\w]+)?$/,co=/^[_$a-z]([\w]+)?$/i,ao=/^[_$a-z]([\w]+)?\.[_$a-z]([\w]+)?$/i,uo=/^\s*[\n\r]\s*|\s*[\n\r]\s*$/g,fo=/\s*(=>|->)\s*/,lo=/<(\/)?([$a-z][-a-z0-9]*)/i,po=/<!--[\s\S]*?-->/g,ho=/^([\s\S]*?)<!--/,mo=/-->([\s\S]*?)$/,go=/^\s*([-.:\w]+)(['"])?(?:=(['"]))?/,vo=/^\s*(\/)?>/;function yo(e,t){return Me(Be(e,t.length))}function bo(n){let a,u,f,l,h=[],m=[],v=[],x=n.length,k=0,$=0,w=0,T=0,C=to,S=[],E=[],O=function(e){Mt(`Error compiling template\n\n${n}\n\nmessage: ${e}`)},A=function(e){const t=Oe(m);if(t&&t.type===Cn){const i=t;i.tag!==e&&(n=i.tag,ze(Gn,n))&&j(i.type,i.tag)}var n},j=function(n,o){const r=Ae(m);if(r&&r.type===n){const{children:s}=r,c=s&&1===s.length&&s[0],u=n===Cn,f=n===Sn,l=n===On,p=n===En,d=Oe(m);if(d&&(d.isStatic&&!r.isStatic&&(d.isStatic=t),d.isComplex||(r.isComplex||u?d.isComplex=e:a&&a!==d&&(f||l||p)&&(d.isComplex=e))),u){const e=r;o&&e.tag!==o&&O(`End tag is "${o}"，but start tag is "${e.tag}".`)}if(c)switch(c.type){case An:u?W(r,c):f?oe(r,c):l?te(r,c):p&&ce(r,c);break;case qn:u?J(r,c):f?re(r,c):l?ne(r,c):p&&ae()}else s?p?P():a||(z(s),s.length||(r.children=i)):a&&(f?ie(a,r):l?ee(a,r):p&&se(a,r));return n===Pn?ue(r):n===Nn?fe(r):u?le(r):a&&(f?he(a,r)&&de(a,r):p&&pe(a,r)),r}O("The type of poping node is not expected.")},z=function(t){let n=o,i=I,r=o,s=I;ke(t,function(e,c){if(e.type===An)if(r>=0){for(i=e.text;ho.test(i);)i=RegExp.$1,n=c;if(n>=0){let e=n,c=r;i&&(t[n].text=i,e++),s&&(i?t[n].text+=s:(t[r].text=s,c--)),t.splice(e,c-e+1),n=r=o}}else for(s=e.text;mo.test(s);)s=RegExp.$1,r=c},e)},P=function(){O('For performance, "{{" and "}}" are not allowed in directive value.')},W=function(t,n){(function(t,n){if(Kn.test(n))return t.html=n,e})(t,n.text)&&(t.children=i)},J=function(e,t){e.isComponent||e.slot||t.safe||(e.html=t.expr,e.children=i)},ee=function(t,n){n.hint===Y?n.value=e:ve(n)},te=function(e,t){const{text:n}=t;e.hint===H?e.value=ti(n):e.hint===Y?e.value=n===r||n===e.name:e.value=n,e.children=i},ne=function(t,n){const{expr:o}=n;t.expr=o,t.children=i,o.type===ii&&(t.binding=e)},ie=function(t,n){he(t,n)?O(`The value of "${n.name}" is empty.`):n.value=function(t,n){return t.isComponent?e:Ke(n,"data-")?I:n}(t,n.name)},oe=function(e,t){e.value=t.text,e.children=i},re=function(t,n){const{expr:o}=n;t.expr=o,t.children=i,o.type===ii&&(t.binding=e)},se=function(t,n){n.value=e},ce=function(e,t){let n,o,{text:r}=t,s=e.ns===V,c=e.ns===G,u=e.ns===Z,f=e.ns===X;try{n=bi(r)}catch(e){o=e}if(n){{const{raw:t}=n;if(c)(n.type!==ni||!ge(n.value)||n.value<=0)&&O("The value of lazy must be a number greater than 0.");else if(n.type===fi){let e=n.name;e.type!==ii?O("Invalid method name."):so.test(e.name)||O("Invalid method name.")}else u&&(co.test(t)||ao.test(t)?(ao.test(t)&&t.split(y)[1]===Q&&O(`The event namespace "${Q}" is not permitted.`),a&&a.isComponent&&e.name===t&&O("The event name listened and fired can't be the same.")):O("The event name and namespace must be an identifier."));s&&n.type!==ii&&O("The value of the model must be an identifier.")}e.expr=n,e.value=n.type===ni?n.value:r}else{if(!f)throw o;e.value=r}e.children=i},ae=function(e,t){O('For performance, "{{" and "}}" are not allowed in directive value.')},ue=function(e){e.children||ve(e)},fe=function(e){e.children||ve(e)},le=function(n){const{tag:o,slot:r}=n,c=o===g;c&&(n.key?O('The "key" is not supported in <template>.'):n.ref?O('The "ref" is not supported in <template>.'):n.attrs?O("The attributes and directives are not supported in <template>."):r||O('The "slot" is required in <template>.')),c&&r&&!n.children?ve(n):o!==s||n.name?function(n){let{tag:o,attrs:r}=n,s=t,c=t;r&&ke(r,function(t){const n=t.type===On?t.name:i;"type"===n?s=e:n===d&&(c=e)}),n.isStyle&&!s?Ce(n.attrs||(n.attrs=[]),Mn("type",B,"text/css")):"option"!==o||c||(n.isOption=e)}(n):n.name=M},pe=function(e,t){t.ns===V&&Oe(m)!==e&&O('The "model" can\'t be used in an if block.')},de=function(e,t){const{name:n,value:i}=t,o=n===c||n===s;Oe(m)!==e&&O(`The "${n}" can't be used in an if block.`),i===I?O(`The value of "${n}" is empty.`):o&&et(i)&&O(`The value of "${n}" can only be a string literal.`),e[n]=o?i:t,ve(t)},he=function(e,t){return _n[t.name]||e.tag===s&&t.name===c},ve=function(e,t){let n,o,r,s=Oe(m);(o=s?(n=a&&a===s)?s.attrs:s.children:h)&&(r=Ee(o,e))>=0&&(t?o[r]=t:(o.splice(r,1),s&&!o.length&&(n?delete s.attrs:s.children=i)))},ye=function(n){a||A();const i=n.type,o=Oe(m);if(i===In||i===zn){const e=Ae(v);e?(n.prev=e,e.type===zn||e.type===jn?(e.next=n,j(e.type),Ce(v,n)):O(i===zn?'The "else" block must not be followed by an "else if" block.':'The "else" block can\'t appear more than once in a conditional statement.')):O('The "if" block is required.')}else{if(o)if(a&&o.type===Cn){Ce(a.attrs||(a.attrs=[]),n)}else{const e=o.children||(o.children=[]),t=Oe(e);if(t&&t.type===An&&n.type===An)return void(t.text+=n.text);Ce(e,n)}else Ce(h,n);i===jn&&(a||(n.stub=e),Ce(v,n))}n.isLeaf?o&&(o.isStatic&&!n.isStatic&&(o.isStatic=t),!o.isComplex&&n.isComplex&&(o.isComplex=e)):Ce(m,n)},be=function(e){(e=e.replace(uo,I))&&ye(Hn(e))},xe=[function(e){if(!a){const t=e.match(lo);if(t&&0===t.index){const e=t[2];if(t[1]===b)A(e),j(Cn,e);else{if(e===g){const e=Oe(m);e&&e.isComponent||O("<template> can only be used within an component children.")}const t=ei(e);ye(t),a=t}return t[0]}}},function(e){const t=e.match(vo);if(t)return a&&!u&&(t[1]===b&&j(a.type,a.tag),a=i),t[0]},function(e){if(a&&!u){const t=e.match(go);if(t){t[2]&&O("The previous attribute is not end.");let e,n=t[1];if(n===V||n===p)e=Wn(I,n);else if(Ke(n,K+ro)){let t=yo(n,K+ro);t||O("The event name is required.");const[i,o,r]=We(t).split(y);e=Wn(i,Z,o),me(r)&&O("Invalid event namespace.")}else if(Ke(n,G)){let t=yo(n,G);Ke(t,ro)&&(t=yo(t,ro)),e=Wn(t?We(t):I,G)}else if(Ke(n,X+ro)){const t=yo(n,X+ro);t||O("The directive name is required.");const[i,o,r]=We(t).split(y);e=Wn(i,X,o),me(r)&&O("Invalid directive modifier.")}else e=function(e,t){if(e.isComponent)return Fn(We(t));{const n=Xe(t);return Un[e.tag]||e.isSvg?Fn(t):ze(Zn,n)?Mn(Qn[n]||n,B):ze(Jn,n)?Mn(Qn[n]||n,H):ze(Xn,n)?Mn(Qn[n]||n,Y):Fn(t)}}(a,n);return ye(e),(l=t[3])?u=e:j(e.type),t[0]}}},function(e){let t,n;return u&&l?(n=e.match(oo[l]||(oo[l]=new RegExp(l))))?(t=Be(e,0,n.index),be(t),t+=l,u.children||ye(Hn(I)),j(u.type),u=i):C!==to?be(t=e):O(`Unterminated quoted string in "${u.name}".`):a?(Me(e)&&O(`Invalid character is found in <${a.tag}> attribute level.`),t=e):(n=e.match(lo))?(t=Be(e,0,n.index))&&be(t.replace(po,I)):be((t=e).replace(po,I)),t}],$e=[function(e){if(Ke(e,R)){a&&O(u?'The "each" block can\'t be appear in an attribute value.':'The "each" block can\'t be appear in attribute level.');const n=(e=yo(e,R)).replace(/\s+/g,I).split(":");if(n[0]){const e=Me(n[0]),o=n[1]?Me(n[1]):i,r=e.match(fo);if(r){const t=e.split(fo),n=bi(t[0]),i=bi(t[2]);if(n&&i)return Bn(n,i,"=>"===Me(r[1]),o)}else{const n=bi(e);if(n)return Bn(n,i,t,o)}}O("Invalid each")}},function(t){if(Ke(t,_)){if(t=yo(t,_)){if(!a)return{type:Ln,name:t,isComplex:e,isLeaf:e};O(u?'The "import" block can\'t be appear in an attribute value.':'The "import" block can\'t be appear in attribute level.')}O("Invalid import")}},function(t){if(Ke(t,U)){if(t=yo(t,U)){if(!a)return{type:Nn,name:t,isComplex:e};O(u?'The "partial" block can\'t be appear in an attribute value.':'The "partial" block can\'t be appear in attribute level.')}O("Invalid partial")}},function(e){if(Ke(e,N)){const t=bi(e=yo(e,N));if(t)return function(e){return{type:jn,expr:e}}(t);O("Invalid if")}},function(e){if(Ke(e,q)){const t=bi(e=yo(e,q));if(t)return function(e){return{type:zn,expr:e}}(t);O("Invalid else if")}},function(e){if(Ke(e,L)){if(!Me(e=yo(e,L)))return{type:In};O('The "else" must not be followed by anything.')}},function(t){if(Ke(t,D)){const n=bi(t=yo(t,D));if(n){if(a&&a.isComponent)return function(t,n){return{type:Rn,expr:t,binding:n,isLeaf:e}}(n,n.type===ii);O("The spread can only be used by a component.")}O("Invalid spread")}},function(t){if(!F.test(t)){const n=bi(t=Me(t));if(n)return function(t,n){return{type:qn,expr:t,safe:n,isLeaf:e}}(n,C===no);O("Invalid expression")}}],we=function(e){for(;e;)ke(xe,function(n){const i=n(e);if(i)return e=Be(e,i.length),t})},Te=function(n){if(Ve(n)===b){A();const i=Be(n,1);let o=Dn[i],r=t;if(o===jn){const t=Ae(v);t?(o=t.type,r=e):O('The "if" block is closing, but it does\'t opened.')}const s=j(o);s&&r&&function(t){let n,i,o,r=t;for(;e&&(r.children&&(o||r.next&&delete r.next,i=o=e),n=r.prev);)delete r.prev,r=n;i||ve(r)}(s)}else ke($e,function(e){const i=e(n);if(i)return ye(i),t})},Se=function(){return(k=T+2)<=x?(k<x&&"}"===Ve(n,k)?C===io?$=k+1:O("{{ and }}} is not a pair."):C===no?$=k:O("{{{ and }} is not a pair."),Ae(S),je(T),w=He(n,"{{",$),(T=He(n,"}}",$))>=$&&(w<0||T<w)?Se():void 0):e},je=function(e){S.length||Ce(E,e)};for(;e&&(je($),(w=He(n,"{{",$))>=$);)if(C=no,je(w),(w+=2)<x)if("{"===Ve(n,w)&&(C=io,w++),je(w),je(C),Ce(S,e),w<x)if((T=He(n,"}}",w))>=w){if((($=He(n,"{{",w))<0||T<$)&&Se())break}else O("The end delimiter is not found.");else O("Unterminated template literal.");else O("Unterminated template literal.");for(let e=0,t=E.length;e<t;e+=5)k=E[e],(w=E[e+1])&&we(Be(n,k,w)),w=E[e+2],C=E[e+3],(T=E[e+4])?(f=Me(Be(n,w,T)))&&Te(f):(C=to,we(Be(n,k)));return m.length&&(A(),m.length&&O("Some nodes is still in the stack.")),h.length>0&&z(h),h}const xo="$",ko="!0",$o=",",wo=":",To="+",Co="&&",So="?",Eo="!",Oo='""',Ao="return ";function jo(e){return`{${Pe(e,$o)}}`}function zo(e){return`[${Pe(e,$o)}]`}function Io(n,i){return`${n}(${Pe(function(n){let i=[],o=e;return ke(n,function(e){fe(e)?(o=t,Se(i,e)):o||Se(i,xo)},e),i}(i),$o)})`}function Po(e){return JSON.stringify(e)}const No=[],Lo=[],qo={},Ro="a",Uo="b",_o="c",Do="d",Fo="e",Wo="f",Mo="g",Bo="h",Ho="i",Yo="j",Ko="k",Go="l",Vo="m",Zo="n",Jo="o",Xo="p",Qo="q",er="r",tr="s",nr="t",ir="u",or="v",rr="w",sr="x";let cr,ar;function ur(n,o,r,s){return function n(o,r,s,c,a,u,f,l,p){let h,m=t,g=function(t){return n(t,r,s,c,a,u,f,l,e)};switch(o.type){case ni:h=Po(o.value);break;case ri:h=o.operator+g(o.node);break;case si:h=g(o.left)+o.operator+g(o.right);break;case ci:h=g(o.test)+So+g(o.yes)+wo+g(o.no);break;case ai:h=zo(o.nodes.map(g));break;case ui:const t=[];ke(o.keys,function(e,n){Ce(t,Po(e)+wo+g(o.values[n]))}),h=jo(t);break;case ii:m=e;const n=o;h=Io(r,[Po(n.name),n.lookup?ko:i,n.offset>0?Po(n.offset):i,u?ko:i,f?ko:i,l||i]);break;case oi:m=e;const{lead:p,keypath:d,nodes:v,lookup:y,offset:b}=o,x=v?v.map(g):[];h=p.type===ii?Io(r,[Io(s,[Po(p.name),zo(x)]),y?ko:i,b>0?Po(b):i,u?ko:i,f?ko:i,l||i]):Io(c,v?[g(p),i,zo(x),u?ko:i]:[g(p),Po(d),i,u?ko:i]);break;default:m=e;const{args:k}=o;h=Io(a,[g(o.name),k.length?zo(k.map(g)):i,u?ko:i])}return u?p?m?h+y+d:h:m?h:jo([d+wo+h]):h}(n,Ro,Uo,_o,Do,o,r,s)}function fr(e){const t=[];return vt(e,function(e,n){fe(e)&&Ce(t,Po(n)+wo+e)}),jo(t)}function lr(e,t){return`${m}(${t||I}){${e||I}}`}function pr(e){return`(${e})`}function dr(e,t){const n=ur(e);return t?Io(rr,[n]):n}function hr(e){return ur(e,t,t,sr)}function mr(e,t,n){return fe(e)?Po(e):t?dr(t):n?(ar=n.length>1,gr(n)):void 0}function gr(e,t){const n=e.length>1&&!t;Ce(No,n);const i=Pe(e.map(function(e){return qo[e.type](e)}),n?To:$o);return Ae(No),i}function vr(e,t){if(e){const n=gr(e,t);return e.length>1&&t?pr(n):n}}function yr(e,t,n,i,o){return Io(Xo,[e,t,n,i,o])}function br(e){return cr||(cr=Pe([Ro,Uo,_o,Do,Fo,Wo,Mo,Bo,Ho,Yo,Ko,Go,Vo,Zo,Jo,Xo,Qo,er,tr,nr,ir,or,rr],$o)),t=cr,n=qo[e.type](e),`${m}(${t}){var ${xo}=void 0;${Ao}${n}}`;var t,n}function xr(e,t,n,i){(e[t]||(e[t]={}))[n]=i}qo[Cn]=function(n){let o,r,c,{tag:a,isComponent:u,isSvg:f,isStyle:l,isOption:p,isStatic:d,isComplex:h,name:m,ref:v,key:y,html:b,attrs:x,children:k}=n,$={},w=[];if(a===s){const t=[Po(W+m)];return k&&Ce(t,lr(gr(k,e))),Io(Qo,t)}return Ce(Lo,t),x&&ke(x,function(e){Ce(w,qo[e.type](e))}),36===Ze(a)?o=Po(Be(a,1)):$.tag=Po(a),f&&($.isSvg=ko),l&&($.isStyle=ko),p&&($.isOption=ko),d&&($.isStatic=ko),v&&($.ref=mr(v.value,v.expr,v.children)),y&&($.key=mr(y.value,y.expr,y.children)),b&&($.html=me(b)?Po(b):dr(b,e)),u?($.isComponent=ko,k&&(Lo[Lo.length-1]=e,c=function(t){const n={},i={},o=function(e,t){Ne(t)||Ce(i[e=W+e]||(i[e]=[]),t)};if(ke(t,function(e){if(e.type===Cn){const t=e;if(t.slot)return void o(t.slot,t.tag===g?t.children:[t])}o(M,[e])}),vt(i,function(t,i){n[i]=lr(gr(t,e))}),!Ct(n))return fr(n)}(k))):k&&(ar=e,Lo[Lo.length-1]=h,r=gr(k,h),h?r=lr(r):($.text=r,r=i)),Ae(Lo),yr(fr($),o,Ne(w)?i:lr(Pe(w,$o)),r,c)},qo[Sn]=function(t){const n=t.binding?Io(Yo,[Po(t.name),ur(t.expr,e,e)]):mr(t.value,t.expr,t.children);return Io(Wo,[Po(t.name),n])},qo[On]=function(t){const n=t.binding?Io(Yo,[Po(t.name),ur(t.expr,e,e),Po(t.hint)]):mr(t.value,t.expr,t.children);return Io(Mo,[Po(t.name),Po(t.hint),n])},qo[En]=function(t){const{ns:n,name:o,key:r,value:s,expr:c,modifier:a}=t;if(n===G)return Io(Bo,[Po(o),Po(s)]);if(n===p)return Io(Ho,[Po(s)]);if(n===V)return Io(Ko,[ur(c,e,e)]);let u=Zo,f=[Po(o),Po(r),Po(a),Po(s)];return c&&(c.type===fi?(n===Z&&(u=Go),Ce(f,Po(c.name.name)),Ne(c.args)||Ce(f,lr(Ao+zo(c.args.map(hr)),sr))):n===Z?(u=Vo,Ce(f,Po(c.raw))):n===X&&c.type!==ni&&(Ce(f,i),Ce(f,i),Ce(f,lr(Ao+hr(c),sr)))),Io(u,f)},qo[Rn]=function(t){return Io(Jo,[ur(t.expr,e,t.binding)])},qo[An]=function(e){const t=Po(e.text);return Oe(Lo)&&!Oe(No)?Io(Fo,[t]):t},qo[qn]=function(e){return Oe(Lo)&&!Oe(No)?function(e,t){return Io(Fo,[dr(e,t)])}(e.expr,ar):dr(e.expr,ar)},qo[jn]=function(e){return function e(t,n){let i,o,{children:r,isComplex:s,next:c}=t,a=dr(t.expr),u=vr(r,s);if(c?i=c.type===In?vr(c.children,c.isComplex):e(c,n):n&&(i=yr(fr({isComment:ko,text:Oo}))),fe(u)||fe(i)){const e=Oe(No);return e&&(le(u)&&(u=Oo),le(i)&&(i=Oo)),o=le(i)?a+Co+u:le(u)?Eo+a+Co+i:a+So+u+wo+i,e?pr(o):o}return Oo}(e,e.stub)},qo[Pn]=function(t){const n=lr(gr(t.children,t.isComplex));return t.to?t.equal?Io(or,[n,ur(t.from),ur(t.to),t.index?Po(t.index):i]):Io(ir,[n,ur(t.from),ur(t.to),t.index?Po(t.index):i]):Io(nr,[n,ur(t.from,e),t.index?Po(t.index):i])},qo[Nn]=function(e){return Io(er,[Po(e.name),lr(gr(e.children,e.isComplex))])},qo[Ln]=function(e){return Io(tr,[Po(e.name)])};const kr="directives";let $r="textContent",wr="innerHTML",Tr=function(e,n,i){e.addEventListener(n,i,t)},Cr=function(e,n,i){e.removeEventListener(n,i,t)},Sr=function(e,t){e.classList.add(t)},Er=function(e,t){e.classList.remove(t)},Or=function(e,t){return e};w&&(w.documentElement.classList||(Sr=function(e,t){const n=e.className.split(Ar);ze(n,t)||(Ce(n,t),e.className=Pe(n,Ar))},Er=function(e,t){const n=e.className.split(Ar);je(n,t)&&(e.className=Pe(n,Ar))}));const Ar=" ",jr="$emitter",zr={svg:"http://www.w3.org/2000/svg"},Ir={};function Pr(e){return w.createComment(e)}function Nr(e,n,i){if(fe(i))wt(e,n,i,t);else{const t=$t(e,n);if(t)return t.value}}function Lr(e,t,i){if(fe(i))e.setAttribute(t,i);else{const i=e.getAttribute(t);if(i!=n)return i}}function qr(e,t){e.appendChild(t)}Ir[O]={on(n,i){let o=t;Fr(n,"compositionstart",i.compositionstart=function(){o=e}),Fr(n,"compositionend",i.compositionend=function(e){o=t,i(e)}),Tr(n,"input",i.input=function(e){o||i(e)})},off(e,t){Wr(e,"compositionstart",t.compositionstart),Wr(e,"compositionend",t.compositionend),Cr(e,"input",t.input),t.compositionstart=t.compositionend=t.input=i}};const Rr=function(e){const t=w.querySelector(e);if(t)return t};function Ur(e,t,n,i){if(!fe(t))return e[wr];e[wr]=t}const _r=Sr,Dr=Er;function Fr(e,t,n,i){const o=e[jr]||(e[jr]=new Ht),r=o.nativeListeners||(o.nativeListeners={});if(!r[t]){const n=Ir[t],i=function(n){const i=n instanceof P?n:new P(n.type,Or(n,e));i.type!==t&&(i.type=t),o.fire(t,[i])};r[t]=i,n?n.on(e,i):Tr(e,t,i)}o.on(t,{fn:n,ctx:i})}function Wr(e,t,n){const o=e[jr],{listeners:r,nativeListeners:s}=o;if(o.off(t,n),s&&!o.has(t)){const n=Ir[t],i=s[t];n?n.off(e,i):Cr(e,t,i),delete s[t]}Ct(r)&&(e[jr]=i)}var Mr=Object.freeze({createElement:function(e,t){return t?w.createElementNS(zr.svg,e):w.createElement(e)},createText:function(e){return w.createTextNode(e)},createComment:Pr,prop:Nr,removeProp:function(e,n,i){wt(e,n,i===Y?t:I,t)},attr:Lr,removeAttr:function(e,t){e.removeAttribute(t)},before:function(e,t,n){e.insertBefore(t,n)},append:qr,replace:function(e,t,n){e.replaceChild(t,n)},remove:function(e,t){e.removeChild(t)},parent:function(e){const{parentNode:t}=e;if(t)return t},next:function(e){const{nextSibling:t}=e;if(t)return t},find:Rr,tag:function(e){if(1===e.nodeType)return Xe(e.tagName)},text:function(e,t,n,i){if(!fe(t))return e[$r];e[$r]=t},html:Ur,addClass:_r,removeClass:Dr,on:Fr,off:Wr,addSpecialEvent:function(e,t){Ir[e]&&Mt(`The special event "${e}" is existed.`),Dt(`The special event "${e}" is added successfully.`),Ir[e]=t}});class Br{constructor(t,n,i,o,r,s,c){const a=this;a.keypath=t,a.cache=i,a.deps=o,a.context=r.context,a.observer=r,a.getter=s,a.setter=c,a.unique={},a.watcher=function(n,i,o){const s=a.value,c=a.get(e);c!==s&&r.diff(t,c,s)},a.watcherOptions={sync:n,watcher:a.watcher},(a.fixed=!Ne(o))&&ke(o,function(e){r.watch(e,a.watcherOptions)})}get(e){const t=this,{getter:n,context:i}=t;if(t.cache){if(e||!Tt(t,d))if(t.fixed)t.value=xe(n,i);else{t.unbind();const e=Br.current;Br.current=t,t.value=xe(n,i),t.bind(),Br.current=e}}else t.value=xe(n,i);return t.value}set(e){const{setter:t,context:n}=this;t&&t.call(n,e)}add(t){this.unique[t]=e}bind(){const{unique:e,deps:t,observer:n,watcherOptions:i}=this;vt(e,function(e,o){Ce(t,o),n.watch(o,i)}),this.unique={}}unbind(){const{deps:t,observer:n,watcher:i}=this;ke(t,function(e){n.unwatch(e,i)},e),t.length=0}}function Hr(e,n){let i;return ke(e,function(e){const o=ct(n,e);if(o>=0)return i={name:e,prop:Be(n,o)},t}),i}function Yr(e,t){if(e==n||t===I)return e;const i=$t(e,t);return i?i.value:void 0}function Kr(t,n,o,r,s){const c=function(e,n,i){if(n!==i){const o=ut(t,e);ke(r,function(e){fe(lt(o,e))&&s(e,o,n,i)}),Kr(o,n,i,r,s)}};(function(t,n,o){const r=me(t),s=me(n);if(r||s)return o(h,r?t.length:i,s?n.length:i),e})(n,o,c)||function(t,n,o){const r=de(t),s=de(n);if(r||s){const c=r?t.length:i,a=s?n.length:i;o(h,c,a);for(let e=0,r=Math.max(c||0,a||0);e<r;e++)o(""+e,t?t[e]:i,n?n[e]:i);return e}}(n,o,c)||function(e,t,n){const i=he(e),o=he(t);(i||o)&&(e=i?e:j,t=o?t:j,i&&vt(e,function(e,i){e!==t[i]&&n(i,e,t[i])}),o&&vt(t,function(t,i){t!==e[i]&&n(i,e[i],t)}))}(n,o,c)}function Gr(e,t,n,i,o,r){let s;vt(i,function(i,c){if(ft(c))return void(fe(lt(e,c))?r(c,e,t,n):o&&(s?Ce(s,c):s=[c]));const a=ct(c,e);if(a>=0){const e=Be(c,a),i=Yr(t,e),o=Yr(n,e);i!==o&&r(c,c,i,o)}}),s&&Kr(e,t,n,s,r)}function Vr(e,t,n){if(n.count&&t)return n.count--,t[0]!==t[1]}const Zr={watcher:A};function Jr(t,n){return pe(t)?(Zr.watcher=t,Zr.immediate=n===e,Zr):t&&t.watcher?t:void Mt("watcher should be a function or object.")}class Xr{constructor(e,t){this.data=e||{},this.context=t||this,this.nextTask=new Qt,this.syncEmitter=new Ht,this.asyncEmitter=new Ht,this.asyncChanges={}}get(e,t,n){const i=Br.current,{data:o,computed:r,reversedComputedKeys:s}=this;if(e===I)return o;let c,a;if(i&&!n&&i.add(e),r){if(a=r[e])return a.get();if(s){const t=Hr(s,e);t&&t.prop&&(c=$t(r[t.name].get(),t.prop))}}return c||(c=$t(o,e)),c?c.value:t}set(e,t){const n=this,{data:i,computed:o,reversedComputedKeys:r}=n,s=function(e,t){const s=n.get(t);if(e===s)return;let c;if(o&&((c=o[t])&&c.set(e),r)){const n=Hr(r,t);if(n&&n.prop&&(c=o[n.name])){const t=c.get();he(t)&&wt(t,n.prop,e)}}c||wt(i,t,e),n.diff(t,e,s)};me(e)?s(t,e):he(e)&&vt(e,s)}diff(t,n,o){const r=this,{syncEmitter:s,asyncEmitter:c,asyncChanges:a}=r,u=36!==Ze(t);Gr(t,n,o,s.listeners,u,function(e,t,n,i){s.fire(e,[n,i,t])}),Gr(t,n,o,c.listeners,u,function(t,n,o,s){ke(c.listeners[t],function(e){e.count++});const{keypaths:u}=a[n]||(a[n]={value:s,keypaths:[]});ze(u,t)||Ce(u,t),r.pending||(r.pending=e,r.nextTask.append(function(){r.pending&&(r.pending=i,r.diffAsync())}))})}diffAsync(){const e=this,{asyncEmitter:t,asyncChanges:n}=e;e.asyncChanges={},vt(n,function(n,i){const o=[e.get(i),n.value,i];ke(n.keypaths,function(e){t.fire(e,o,Vr)})})}addComputed(t,n){let i,o,r=e,s=e,c=[];if(pe(n))i=n;else if(he(n)){const e=n;ve(e.cache)&&(r=e.cache),ve(e.sync)&&(s=e.sync),de(e.deps)&&(c=kt(e.deps)),pe(e.get)&&(i=e.get),pe(e.set)&&(o=e.set)}if(i){const n=this,a=new Br(t,s,r,c,n,i,o);return n.computed||(n.computed={}),n.computed[t]=a,n.reversedComputedKeys=gt(n.computed,e),a}}removeComputed(t){const n=this,{computed:i}=n;i&&Tt(i,t)&&(delete i[t],n.reversedComputedKeys=gt(i,e))}watch(e,t,n){const o=this,{context:r,syncEmitter:s,asyncEmitter:c}=o,a=function(e,t){const n=t.sync?s:c,a={fn:t.watcher,ctx:r,count:0};t.once&&(a.max=1),n.on(e,a),t.immediate&&xe(t.watcher,r,[o.get(e),i,e])};me(e)?a(e,Jr(t,n)):vt(e,function(e,t){a(t,Jr(e))})}unwatch(e,t){this.syncEmitter.off(e,t),this.asyncEmitter.off(e,t)}toggle(e){const t=!this.get(e);return this.set(e,t),t}increase(e,t,n){const i=ti(this.get(e),0)+(t||1);if(!ge(n)||i<=n)return this.set(e,i),i}decrease(e,t,n){const i=ti(this.get(e),0)-(t||1);if(!ge(n)||i>=n)return this.set(e,i),i}insert(n,i,o){let r=this.get(n);r=de(r)?kt(r):[];const{length:s}=r;if(o===e||o===s)r.push(i);else if(o===t||0===o)r.unshift(i);else{if(!(o>0&&o<s))return;r.splice(o,0,i)}return this.set(n,r),e}append(t,n){return this.insert(t,n,e)}prepend(e,n){return this.insert(e,n,t)}removeAt(t,n){let i=this.get(t);if(de(i)&&n>=0&&n<i.length)return(i=kt(i)).splice(n,1),this.set(t,i),e}remove(t,n){let i=this.get(t);if(de(i)&&je(i=kt(i),n))return this.set(t,i),e}copy(e,t){return kt(e,t)}destroy(){this.syncEmitter.off(),this.asyncEmitter.off(),this.nextTask.clear(),yt(this)}}function Qr(e,t,n){let o;return function(){if(!o){const r=Ie(arguments);n&&xe(e,i,r),o=setTimeout(function(){o=i,n||xe(e,i,r)},t)}}}var es=Object.freeze({bind:function(t,n,i){let o,{key:r,name:s,modifier:c,handler:a}=n,{lazy:u}=i;if(a){if(u){const t=u[s]||u[I];t===e?s=E:t>0&&(a=Qr(a,t,s===S||s===C))}if(i.isComponent){const e=t;c===Q?(Fr(o=e.$el,s,a),i.data[r]=function(){Wr(o,s,a)}):(c&&(s+=y+c),e.on(s,a),i.data[r]=function(){e.off(s,a)})}else Fr(o=t,s,a),i.data[r]=function(){Wr(o,s,a)}}},unbind:function(e,t,n){xe(n.data[t.key])}});function ts(t,n){return n&&n!==e?Qr(t,n):t}const ns={set(e,t){e.value=Et(t)},sync(e,t,n){n.set(t,e.value)},name:d},is={set(e,t){e.checked=e.value===Et(t)},sync(e,t,n){e.checked&&n.set(t,e.value)},name:"checked"},os={set(e,n){e.checked=de(n)?ze(n,e.value,t):!!n},sync(e,n,i){const o=i.get(n);de(o)?e.checked?i.append(n,e.value):i.removeAt(n,Ee(o,e.value,t)):i.set(n,e.checked)},name:"checked"},rs={set(e,n){ke(Ie(e.options),e.multiple?function(e){e.selected=ze(n,e.value,t)}:function(i,o){if(i.value==n)return e.selectedIndex=o,t})},sync(e,t,n){const{options:i}=e;if(e.multiple){const e=[];ke(Ie(i),function(t){t.selected&&Ce(e,t.value)}),n.set(t,e)}else n.set(t,i[e.selectedIndex].value)},name:d},ss=e;var cs=Object.freeze({once:ss,bind:function(t,n,o){let r,s,{context:c,lazy:a,isComponent:u}=o,f=n.modifier,l=a&&(a[V]||a[I]);if(u){let e=t,n=e.$model,i=ts(function(e){c.set(f,e)},l);r=function(t){r&&e.set(n,t)},s=function(){e.unwatch(n,i)},e.watch(n,i)}else{let i=t,a="select"===o.tag?rs:ns,u=E;if(a===ns){const n=t.type;"radio"===n?a=is:"checkbox"===n?a=os:l!==e&&(u=O)}r=function(e){r&&a.set(i,e)};const p=ts(function(){a.sync(i,f,c)},l);s=function(){Wr(i,u,p)},Fr(i,u,p),a.set(i,n.value)}c.watch(f,r),o.data[n.key]=function(){c.unwatch(f,r),r=i,s()}},unbind:function(e,t,n){xe(n.data[t.key])}});const as=e;var us=Object.freeze({once:as,bind:function(e,t,n){let o=t.modifier,r=ft(o),s=function(i,c,a){if(s){const s=r?lt(a,o):t.name;if(n.isComponent){const t=e;t.checkProp(s,i),t.set(s,i)}else{const n=e;fe(t.hint)?Nr(n,s,i):Lr(n,s,i)}}};n.context.watch(o,s),n.data[t.key]=function(){n.context.unwatch(o,s),s=i}},unbind:function(e,t,n){xe(n.data[t.key])}});const fs={},ls={},ps={},ds={},hs={},ms={},gs="$$",vs=/^[#.][-\w+]+$/;class ys{constructor(n){const o=this,r=n||j;o.$emitter=new Ht(e),r.events&&o.on(r.events),r.parent&&(o.$parent=r.parent),xe(r[ne],o,r),o.fire(ne+te,r);let{data:s,props:c,vnode:d,propTypes:h,computed:g,methods:v,watchers:y,extensions:b}=r;o.$options=r,b&&bt(o,b);const x=c?kt(c):{};h&&vt(h,function(e,t){let n=x[t];ks(t,n,e),le(n)&&fe(n=e.value)&&(x[t]=e.type===m?n:pe(n)?n():n)});const k=o.$observer=new Xr(x,o);g&&vt(g,function(e,t){k.addComputed(t,e)}),d&&he(s)&&Ft('The "data" option of child component should be a function which return an object.');const $=pe(s)?xe(s,o,n):s;he($)&&vt($,function(e,t){Tt(x,t)&&Ft(`The data "${t}" is already used as a prop.`),x[t]=e}),v&&vt(v,function(e,t){o[t]&&Mt(`The method "${t}" is conflicted with built-in methods.`),o[t]=e});{let n=i,{el:s,root:c,model:h,context:m,replace:g,template:v,transitions:b,components:$,directives:w,partials:T,filters:C,slots:S}=r;if(h&&(o.$model=h),S&&bt(x,S),me(v)&&vs.test(v)&&((n=Rr(v))?(v=Ur(n),n=i):Mt(`The selector "${v}" can't match an element.`)),s){if(me(s)){const e=s;vs.test(e)?(n=Rr(e))||Mt(`The selector "${e}" can't match an element.`):Mt('The "el" option should be a selector.')}else n=s;g||qr(n,n=Pr(I))}if(c&&(o.$root=c),m&&(o.$context=m),ws(o,p,b),ws(o,f,$),ws(o,l,w),ws(o,u,T),ws(o,a,C),v){const i=y?kt(y):{};return i[gs]={sync:e,watcher:function(e){o.update(e,o.$vnode)}},k.addComputed(gs,{sync:t,get:function(){return o.render()}}),$s(o,i),o.$template=me(v)?ys.compile(v):v,d||(n||Mt('The "el" option is required for root component.'),d=function(e,t,n,i){return{tag:e.tag(t),data:gn(),node:t,context:n,keypath:i}}(Mr,n,o,I)),void o.update(o.get(gs),d)}(n||d)&&Mt('The "template" option is required.')}$s(o,y)}static define(e){return e}static use(e){e.install(ys)}static nextTick(e,t){Qt.shared().append(e,t)}static compile(e,t){if(!ms[e]){const t=bo(e);1!==t.length&&Mt('The "template" option should have just one root element.'),ms[e]=br(t[0])}return e=ms[e],t?e:new Function(`return ${e}`)()}static directive(e,t){if(me(e)&&!t)return Es(fs,e);Os(fs,e,t)}static transition(e,t){if(me(e)&&!t)return Es(ls,e);Os(ls,e,t)}static component(e,t){if(me(e)&&!t)return Es(ps,e);Os(ps,e,t)}static partial(e,t){if(me(e)&&!t)return Es(ds,e);Os(ds,e,t,ys.compile)}static filter(e,t){if(me(e)&&!t)return Es(hs,e);Os(hs,e,t)}get(e,t){return this.$observer.get(e,t)}set(e,t){const{$observer:n}=this;n&&n.set(e,t)}on(e,t){return Cs(this,e,t),this}once(t,n){return Cs(this,t,n,e),this}off(e,t){return this.$emitter.off(e,t),this}fire(t,n,i){let o,r=this,{$emitter:s,$parent:c,$children:a}=r,u=t instanceof P?t:new P(t),f=[u];if(le(u.ns)){const e=s.parse(u.type);u.type=e.type,u.ns=e.ns}return u.target||(u.target=r),he(n)?Ce(f,n):n===e&&(i=e),u.ns===Q&&Wt(`The namespace "${Q}" is not permitted.`),(o=s.fire(u,f))&&(i?a&&(u.phase=P.PHASE_DOWNWARD,ke(a,function(t){return o=t.fire(u,n,e)})):c&&(u.phase=P.PHASE_UPWARD,o=c.fire(u,n))),o}watch(e,t,n){return this.$observer.watch(e,t,n),this}unwatch(e,t){return this.$observer.unwatch(e,t),this}loadComponent(e,t){Ss(this.$components,e,t)||Ss(ps,e,t)||Wt(`The component "${e}" is not found.`)}createComponent(t,n){{const i=this;(t=kt(t)).root=i.$root||i,t.parent=i,t.context=n.context,t.vnode=n,t.replace=e;let{props:o,slots:r,directives:s}=n,c=s&&s[V];if(c){o||(o={});const e=t.model||ee;o[e]=c.value,t.model=e}o&&(t.props=o),r&&(t.slots=r);const a=new ys(t);Ce(i.$children||(i.$children=[]),a);const u=a.$el;return u?n.node=u:Mt(`The root element of component "${n.tag}" is not found.`),a}}directive(e,t){{const n=this,{$directives:i}=n;if(me(e)&&!t)return Es(i,e,ys.directive);Os(i||(n.$directives={}),e,t)}}transition(e,t){{const n=this,{$transitions:i}=n;if(me(e)&&!t)return Es(i,e,ys.transition);Os(i||(n.$transitions={}),e,t)}}component(e,t){{const n=this,{$components:i}=n;if(me(e)&&!t)return Es(i,e,ys.component);Os(i||(n.$components={}),e,t)}}partial(e,t){{const n=this,{$partials:i}=n;if(me(e)&&!t)return Es(i,e,ys.partial);Os(i||(n.$partials={}),e,t,ys.compile)}}filter(e,t){{const n=this,{$filters:i}=n;if(me(e)&&!t)return Es(i,e,ys.filter);Os(i||(n.$filters={}),e,t)}}forceUpdate(t){{const n=this,{$vnode:i,$observer:o}=n,{computed:r}=o;if(i&&r){const s=r[gs],c=s.get();t&&n.set(t),o.nextTask.run(),t||c!==s.get()||n.update(s.get(e),i)}}}render(){{const t=this;return function(t,o,r,s,c,a,u){let f,l={$keypath:I},p=[l],d=[],h={},m={},g=function(e,t,r,c,a,u){let f=e[t],l=ut(f.$keypath,r),p=e,d=pt;if(le(u)&&(u=l),fe(f[r])?p=f[r]:fe(f.$item)&&(f=f.$item,r===I?p=f:f!=n&&fe(f[r])&&(p=f[r])),p===e&&(p=o.get(l,e,a))===e){if(c&&t>0)return _t(`The data "${l}" can't be found in the current context, start looking up.`),g(e,t-1,r,c,a,u);const n=$t(s,r);return n?(d=n).keypath=r:(d.value=i,d.keypath=u),d}return d.value=p,d.keypath=l,d},b=function(e,n,o){return function(r,s){const c=t[e];if(r instanceof P){let e=i;if(n){const a=Oe(o);a&&(a.$event=r,a.$data=s,e=xe(c,t,n(o)),a.$event=a.$data=i)}else e=xe(c,t,s?[r,s]:r);return e}xe(c,t,n?n(o):i)}},x=function(e,t){return function(){return e(t)}},k=function(n){const i=Oe(d);if(i){const o=Oe(i);o&&o.isText?o.text+=n:Ce(i,{isText:e,text:n,context:t,keypath:l.$keypath})}},$=function(e,t){f.isComponent?xr(f,"props",e,t):xr(f,"nativeAttrs",e,{name:e,value:t})},w=function(e,t,n){xr(f,"nativeProps",e,{name:e,value:n,hint:t})},T=function(e,t){xr(f,"lazy",e,t)},C=function(e){f.transition=u[e],f.transition||Mt(`The transition "${e}" can't be found.`)},S=function(e,t,n){const i=ut(J,e);return xr(f,kr,i,{ns:J,name:e,key:i,modifier:t.keypath,hooks:a[J],hint:n}),t.value},E=function(e){xr(f,kr,V,{ns:V,name:I,key:V,value:e.value,modifier:e.keypath,hooks:a[V]})},O=function(e,t,n,i,o,r){xr(f,kr,t,{ns:Z,name:e,key:t,value:i,modifier:n,hooks:a[Z],handler:b(o,r,p)})},A=function(e,n,i,o,r){var s;xr(f,kr,n,{ns:Z,name:e,key:n,value:o,modifier:i,hooks:a[Z],handler:(s=r,function(e,n){s!==e.type&&(e=new P(s,e)),t.fire(e,n)})})},j=function(e,t,n,o,r,s,c){const u=a[e];u||Mt(`The directive ${e} can't be found.`),xr(f,kr,t,{ns:X,name:e,key:t,value:o,hooks:u,modifier:n,getter:c?x(c,p):i,handler:r?b(r,s,p):i})},z=function(e){const{value:t,keypath:i}=e;if(t!=n&&he(t)&&!de(t)&&(vt(t,function(e,t){xr(f,"props",t,e)}),i)){const e=ut(J,i);xr(f,kr,e,{ns:J,name:I,key:e,modifier:ut(i,v),hooks:a[J]})}},N=function(e,n,r,s,c){if(n){const t=o.get(n);t||Ft(`The dynamic component "${n}" can't be found.`),e.tag=t}if(r&&(f=e,r(),f=i),s)d.push(e.children=[]),s(),Ae(d);else if(c){const t={};vt(c,function(e,n){d.push([]),e();const o=Ae(d);t[n]=o.length?o:i}),e.slots=t}e.context=t,e.keypath=l.$keypath;const a=Oe(d);return a&&Ce(a,e),e},L=function(e,t,n,i,o,r){const s=r||p,c=g(s,s.length-((n||0)+1),e,t,o);return i?c:c.value},q=function(e,t){return Se(t,e),Pe(t,y)},R=function(e,t,n,o){fe(n)&&(t=Pe(n,y));const r=$t(e,t);return pt.keypath=i,pt.value=r?r.value:i,o?pt:pt.value},U=function(e,n,o){return pt.keypath=i,pt.value=xe(e,t,n||i),o?pt:pt.value},_=function(n,i){const o=Oe(d),r=t.get(n);o&&(r?ke(r,function(e){Ce(o,e),e.slot=n,e.parent=t}):i&&i()),m[n]&&Mt(`The slot "${Be(n,W.length)}" can't render more than one time.`),m[n]=e},D=function(e,t){h[e]=t},F=function(e){if(h[e])h[e]();else{const t=c[e];t?t(L,q,R,U,k,$,w,T,C,S,E,O,A,j,z,N,_,D,F,B,H,Y,Et):Mt(`The partial "${e}" can't be found.`)}},M=function(e,t,n,i,o,r){const s=l,c=p;l={$keypath:i},p=c.concat(l),fe(r)&&(l.$length=r),o&&(l[o]=n),i||(l.$item=t),e(),l=s,p=c},B=function(e,t,n){const{keypath:i,value:o}=t;if(de(o))for(let t=0,r=o.length;t<r;t++)M(e,o[t],t,i?ut(i,I+t):I,n,r);else if(he(o))for(let t in o)M(e,o[t],t,i?ut(i,t):I,n)},H=function(e,t,n,i){let o=0;if(t<n)for(let r=t;r<n;r++)M(e,r,o++,I,i);else for(let r=t;r>n;r--)M(e,r,o++,I,i)},Y=function(e,t,n,i){let o=0;if(t<n)for(let r=t;r<=n;r++)M(e,r,o++,I,i);else for(let r=t;r>=n;r--)M(e,r,o++,I,i)};return r(L,q,R,U,k,$,w,T,C,S,E,O,A,j,z,N,_,D,F,B,H,Y,Et)}(t,t.$observer,t.$template,xt(t.$filters,hs),xt(t.$partials,ds),xt(t.$directives,fs),xt(t.$transitions,ls))}}update(e,t){{let n,i=this,{$vnode:o,$options:r}=i;i.$refs={},o?(xe(r[se],i),i.fire(se+te),Tn(Mr,e,t),n=ce):(xe(r[oe],i),i.fire(oe+te),Tn(Mr,e,t),i.$el=e.node,n=re),i.$vnode=e,ys.nextTick(function(){i.$vnode&&(xe(r[n],i),i.fire(n+te))})}}checkProp(e,t){{const{propTypes:n}=this.$options;if(n){const i=n[e];i&&ks(e,t,i)}}}destroy(){const e=this,{$parent:t,$options:n,$emitter:o,$observer:r}=e;{xe(n[ae],e),e.fire(ae+te);const{$vnode:o}=e;t&&t.$children&&je(t.$children,e),o&&(e.$vnode=i,function(e,t,n){if(n){const n=e.parent(t.node);n?kn(e,n,t):Mt("The vnode can't be destroyed without a parent node.")}else $n(e,t)}(Mr,o,!t))}r.destroy(),xe(n[ue],e),e.fire(ue+te),o.off(),yt(e)}nextTick(e){this.$observer.nextTask.append(e,this)}toggle(e){return this.$observer.toggle(e)}increase(e,t,n){return this.$observer.increase(e,t,n)}decrease(e,t,n){return this.$observer.decrease(e,t,n)}insert(e,t,n){return this.$observer.insert(e,t,n)}append(e,t){return this.$observer.append(e,t)}prepend(e,t){return this.$observer.prepend(e,t)}removeAt(e,t){return this.$observer.removeAt(e,t)}remove(e,t){return this.$observer.remove(e,t)}copy(e,t){return this.$observer.copy(e,t)}}ys.version="1.0.0-alpha.93",ys.is=be,ys.dom=Mr,ys.array=Le,ys.object=St,ys.string=tt,ys.logger=Bt,ys.Event=P,ys.Emitter=Ht;const bs=Object.prototype.toString;function xs(e,t){return"numeric"===t?ye(e):Xe(bs.call(e))===`[object ${t}]`}function ks(n,i,o){if(fe(i)){const r=o.type;if(r)if(pe(r))r(n,i);else{let o=t;et(r)?Ne(r)||ke(r,function(n){if(xs(i,n))return o=e,t}):o=xs(i,r),o||Ft(`The type of prop "${n}" expected to be "${r}", but is "${i}".`)}else Ft(`The prop "${n}" in propTypes has no type.`)}else o.required&&Ft(`The prop "${n}" is marked as required, but its value is not found.`)}function $s(e,t){t&&e.watch(t),xe(e.$options[ie],e),e.fire(ie+te)}function ws(e,t,n){pe(n)?e[t](xe(n,e)):he(n)&&e[t](n)}function Ts(e,t,n,i){const o={fn:n,ctx:e};i&&(o.max=1),e.$emitter.on(t,o)}function Cs(e,t,n,i){me(t)?Ts(e,t,n,i):vt(t,function(t,n){Ts(e,n,t,i)})}function Ss(t,n,i){if(t&&t[n]){const o=t[n];if(pe(o)){t[n]=[i];const e=function(e){const i=t[n],o=e.default||e;t[n]=o,ke(i,function(e){e(o)})},r=o(e);r&&r.then(e)}else de(o)?Ce(o,i):i(o);return e}}function Es(e,t,n){return e&&e[t]?e[t]:n?n(t):void 0}function Os(e,t,n,i){me(t)?e[t]=i?i(n):n:vt(t,function(t,n){e[n]=i?i(t):t})}ys.directive({event:es,model:cs,binding:us}),ys.filter({hasSlot(e){return fe(this.get(W+e))}});export default ys;
//# sourceMappingURL=yox.esm.min.js.map
